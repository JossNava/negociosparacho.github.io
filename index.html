<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Casmart - Biggest shopping center</title>

  <!-- 
    - favicon
  -->
  <link rel="shortcut icon" href="./favicon.svg" type="image/svg+xml">

  <!-- 
    - custom css link
  -->
  <link rel="stylesheet" href="./assets/css/style.css">

  <!-- 
    - google font link
  -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Jost:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>
<style>
  /* Estilos para el botón flotante */
  .floating-button {
    position: fixed;
    bottom: 20px;
    right: 20px;
    background-color: blue;
    color: white;
    padding: 10px 20px;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    z-index: 2;
  }

  /* Estilos para mostrar el popup */
  .show-popup {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.7);
    z-index: 9999;
    /* Un valor alto para asegurarse de que esté por encima de otros elementos */
  }

  /* Estilos para ocultar el popup */
  .hide-popup {
    display: none;
  }

  .close-button {
    position: absolute;
    top: 20px;
    right: 20px;
    background-color: red;
    color: white;
    padding: 10px 20px;
    border: none;
    border-radius: 5px;
    cursor: pointer;
  }

  iframe {
    width: 100%;
    height: 100%;
  }

  .navbar-top {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 20px;
  }
</style>

<body>

  <!-- 
    - #HEADER
  -->
  <div class="floating-button" id="openMap">🌍 Mapa de Paracho</div>

  <!-- Contenedor del popup -->
  <div class="popup hide-popup" id="mapPopup">
    <div class="close-button" id="closeMap">Cerrar</div>
    <iframe
      src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3757.483063697938!2d-102.10086148465413!3d19.273547556669383!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x842ebf4f7d89c1b3%3A0x1a2a3c2e1df47c19!2sParacho%2C%20Michoac%C3%A1n!5e0!3m2!1sen!2smx!4v1557382345285!5e0!3m2!1sen!2smx"
      width="100%" height="100%"></iframe>
  </div>

  <header class="header" data-header>
    <div class="container">

      <div class="overlay" data-overlay></div>





    </div>

    <button class="nav-open-btn" data-nav-open-btn aria-label="Open Menu">
      <span></span>
      <span></span>
      <span></span>
    </button>

    <nav class="navbar" data-navbar>

      <div class="navbar-top">

        <a href="#" class="logo">
          <img src="" alt="Menu de opciónes" width="130" height="31" style="color: dodgerblue;">
        </a>

        <button class="nav-close-btn" data-nav-close-btn aria-label="Close Menu">
          <ion-icon name="close-outline"></ion-icon>
        </button>

      </div>

      <ul class="navbar-list">

        <li>
          <a href="#home" class="navbar-link">Inicio</a>
        </li>

        <li>
          <a href="formulario.html" class="navbar-link">Publicar Negocio</a>
        </li>

        <!--<li>
          <a href="TablaDatos.html" class="navbar-link">Mis Negocios</a>
        </li>

        <li>
            <a href="#blog" class="navbar-link">Acerca de</a>
          </li>-->



      </ul>

    </nav>

    </div>
  </header>





  <main>
    <article>

      <!-- 
        - #HERO
      -->

      <section class="hero" id="home"
        style="background-image: url('https://i.postimg.cc/4yXLC9zq/20231011214119442.jpg')">
        <div class="container">

          <div class="hero-content">



            <h2 class="h1 hero-title">Negocios En Paracho</h2>
            <p class="hero-subtitle" style="max-width: 30ch;">Encuentra los mejores negocios en el pintoresco pueblo de
              Paracho.</p>

            <button class="btn btn-primary" onclick="window.location.href='#sectionp'">Comenzar</button>

          </div>

        </div>
      </section>





      <!-- 
        - #SERVICE
      -->

      <section class="service">
        <div class="container">

          <ul class="service-list">

            <li class="service-item">
              <div class="service-item-icon">
                <img src="./assets/images/Shop.svg" alt="Service icon" style="height: 8vh;">
              </div>

              <div class="service-content">
                <p class="service-item-title">Publica tu negocio</p>

                <p class="service-item-text">Llega a mas clientes</p>
              </div>
            </li>

            <li class="service-item">
              <div class="service-item-icon">
                <img src="./assets/images/locate.svg" alt="Service icon">
              </div>

              <div class="service-content">
                <p class="service-item-title">Busacas un negocio?</p>

                <p class="service-item-text">Encuentra el más cercano</p>
              </div>
            </li>

          </ul>

        </div>
      </section>






      <section class="section product" id="sectionp">
        <div class="container">

          <h2 class="h2 section-title">Negocios Agregados</h2>

          <ul id="businessList" class="product-list">








            <!-- 
    - ionicon link
  -->
            <script src="./assets/js/script.js"></script>
            <script type="module" src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"></script>
            <script nomodule src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.js"></script>
            <script src="https://www.gstatic.com/firebasejs/8.9.1/firebase-app.js"></script>
            <script src="https://www.gstatic.com/firebasejs/8.9.1/firebase-firestore.js"></script>
            <script src="app.js"></script>
            <script>
              // Firebase configuration (reemplaza con tu propia configuración)
              const firebaseConfig = {
                apiKey: "AIzaSyDAGuScqFmoyWXeKwGIIIJXedWJ7Jgr6zY",
                authDomain: "mi-negocio-paracho.firebaseapp.com",
                projectId: "mi-negocio-paracho",
                storageBucket: "mi-negocio-paracho.appspot.com",
                messagingSenderId: "955033168243",
                appId: "1:955033168243:web:54611f1c3f12306aa63d06",
                measurementId: "G-D8CC4HPH2Y"
              };

              // Inicializa Firebase
              firebase.initializeApp(firebaseConfig);

              const db = firebase.firestore();

              // Función para cargar los negocios
              function loadBusinesses() {
                const businessList = document.getElementById('businessList');

                db.collection('businesses').get().then((querySnapshot) => {
                  querySnapshot.forEach((doc) => {
                    const businessData = doc.data();

                    // Crear la estructura HTML para cada negocio
                    const businessCard = document.createElement('li');
                    businessCard.innerHTML = `
        <div class="product-card">
          <figure class="card-banner">
            <a href="#">
              <img src="${businessData.photos[0]}" alt="${businessData.name}" loading="lazy" width="800" height="1034" class="w-100">
            </a>
            <div class="card-badge red">${businessData.category}</div>
            <div class="card-actions">
              <button class="card-action-btn" aria-label="Quick view">
                <ion-icon name="eye-outline"></ion-icon>
              </button>
              <a href="detalles.html?id=${doc.id}" class="card-action-btn cart-btn">
                <p>Ver Negocio</p>
              </a>
            </div>
          </figure>
          <div class="card-content">
            <h3 class="h4 card-title">
              <a href="#" style="text-align: center;">${businessData.name}</a>
            </h3>
          </div>
        </div>
      `;

                    businessList.appendChild(businessCard);
                  });
                });
              }

              // Llama a la función para cargar los negocios
              loadBusinesses();

            </script>
            <script>
              document.getElementById("openMap").addEventListener("click", function () {
                document.getElementById("mapPopup").classList.remove("hide-popup");
                document.getElementById("mapPopup").classList.add("show-popup");
              });

              document.getElementById("closeMap").addEventListener("click", function () {
                document.getElementById("mapPopup").classList.remove("show-popup");
                document.getElementById("mapPopup").classList.add("hide-popup");
              });
            </script>

</body>

</html>